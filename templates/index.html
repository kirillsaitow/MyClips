<!DOCTYPE html>
<html>
<head>
    <title>–ú–æ–∏ –∏–≥—Ä–æ–≤—ã–µ –∫–ª–∏–ø—ã</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <!-- –§–æ–Ω–æ–≤–æ–µ –≤–∏–¥–µ–æ -->
    <video autoplay muted loop id="bg-video">
        <source src="{{ url_for('static', filename='background.mp4') }}" type="video/mp4">
    </video>

    <!-- –®–∞–ø–∫–∞ —Å–∞–π—Ç–∞ -->
    <header>
        <h1>üéÆ –õ—É—á—à–∏–µ –º–æ–º–µ–Ω—Ç—ã</h1>
    </header>

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –∫–ª–∏–ø–∞–º–∏ -->
    <div class="container">
        <ul>
            {% for clip in clips %}
                <li>
                    <a href="#" onclick="openVideo('{{ clip }}')">
                        <img
                            src="{{ url_for('static', filename='thumbnails/' + clip.replace('.mp4', '.jpg')) }}"
                            onerror="this.onerror=null; this.src='/static/thumbnails/no_preview.jpg'"
                            alt="{{ clip }}"
                            class="thumbnail"
                        >
                        <span class="clip-title">{{ clip.replace('.mp4', '') }}</span>
                    </a>
                </li>
            {% endfor %}
        </ul>
    </div>

    <!-- –û–∫–Ω–æ —Å –≤–∏–¥–µ–æ -->
    <div id="video-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeVideo()">&times;</span>
            <video id="video-player" controls>
                –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
            </video>
        </div>
    </div>

    <!-- –ü–æ–¥–≤–∞–ª -->
    <footer>
        –°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è | –î–æ–º–∞—à–Ω–∏–π –∏–≥—Ä–æ–≤–æ–π –∞—Ä—Ö–∏–≤
    </footer>

    <script>
        // –û—Ç–∫—Ä—ã—Ç–∏–µ –≤–∏–¥–µ–æ
        function openVideo(filename) {
            const modal = document.getElementById('video-modal');
            const videoPlayer = document.getElementById('video-player');
            videoPlayer.src = `/video/${filename}`;
            modal.style.display = 'block';
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –≤–∏–¥–µ–æ
        function closeVideo() {
            const modal = document.getElementById('video-modal');
            const videoPlayer = document.getElementById('video-player');
            videoPlayer.pause();
            videoPlayer.src = '';
            modal.style.display = 'none';
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –æ–∫–Ω–∞
        window.onclick = function(event) {
            const modal = document.getElementById('video-modal');
            if (event.target === modal) {
                closeVideo();
            }
        };
    </script>
</body>
</html>